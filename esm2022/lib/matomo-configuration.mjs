import { InjectionToken } from '@angular/core';
export function sanitizeConfiguration(configuration) {
    const sanitizedConfiguration = {
        ...defaultConfiguration,
        ...configuration,
    };
    if (configuration.trackAppStart !== undefined && configuration.trackAppStart !== null) {
        sanitizedConfiguration.skipTrackingInitialPageView = !configuration.trackAppStart;
    }
    if (configuration.routeTracking !== undefined && configuration.routeTracking !== null) {
        sanitizedConfiguration.routeTracking = configuration.routeTracking;
    }
    return sanitizedConfiguration;
}
/**
 * Injection token for Matomo configuration.
 */
export const MATOMO_CONFIGURATION = new InjectionToken('MATOMO_CONFIGURATION');
/**
 * Default configuration for the Matomo module.
 */
const defaultConfiguration = {
    scriptVersion: 4,
    trackers: [],
    requireConsent: false,
    requireCookieConsent: false,
    skipTrackingInitialPageView: false,
    trackLinks: true,
    trackLinkValue: false,
    routeTracking: {
        enable: false,
    },
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWF0b21vLWNvbmZpZ3VyYXRpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtbWF0b21vL3NyYy9saWIvbWF0b21vLWNvbmZpZ3VyYXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQThEL0MsTUFBTSxVQUFVLHFCQUFxQixDQUNuQyxhQUEyQztJQUUzQyxNQUFNLHNCQUFzQixHQUEwQztRQUNwRSxHQUFHLG9CQUFvQjtRQUN2QixHQUFHLGFBQWE7S0FDakIsQ0FBQztJQUVGLElBQUksYUFBYSxDQUFDLGFBQWEsS0FBSyxTQUFTLElBQUksYUFBYSxDQUFDLGFBQWEsS0FBSyxJQUFJLEVBQUUsQ0FBQztRQUN0RixzQkFBc0IsQ0FBQywyQkFBMkIsR0FBRyxDQUFDLGFBQWEsQ0FBQyxhQUFhLENBQUM7SUFDcEYsQ0FBQztJQUVELElBQUksYUFBYSxDQUFDLGFBQWEsS0FBSyxTQUFTLElBQUksYUFBYSxDQUFDLGFBQWEsS0FBSyxJQUFJLEVBQUUsQ0FBQztRQUN0RixzQkFBc0IsQ0FBQyxhQUFhLEdBQUcsYUFBYSxDQUFDLGFBQWEsQ0FBQztJQUNyRSxDQUFDO0lBRUQsT0FBTyxzQkFBc0IsQ0FBQztBQUNoQyxDQUFDO0FBRUQ7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxvQkFBb0IsR0FBRyxJQUFJLGNBQWMsQ0FBc0Isc0JBQXNCLENBQUMsQ0FBQztBQUVwRzs7R0FFRztBQUNILE1BQU0sb0JBQW9CLEdBQTBDO0lBQ2xFLGFBQWEsRUFBRSxDQUFDO0lBQ2hCLFFBQVEsRUFBRSxFQUFFO0lBQ1osY0FBYyxFQUFFLEtBQUs7SUFDckIsb0JBQW9CLEVBQUUsS0FBSztJQUMzQiwyQkFBMkIsRUFBRSxLQUFLO0lBQ2xDLFVBQVUsRUFBRSxJQUFJO0lBQ2hCLGNBQWMsRUFBRSxLQUFLO0lBQ3JCLGFBQWEsRUFBRTtRQUNiLE1BQU0sRUFBRSxLQUFLO0tBQ2Q7Q0FDRixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0aW9uVG9rZW4gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuZXhwb3J0IGludGVyZmFjZSBTYW5pdGl6ZWRNYXRvbW9Db25maWd1cmF0aW9uIHtcbiAgLyoqXG4gICAqIFVSTCBvZiB0aGUgTWF0b21vIEpTIHNjcmlwdCB0byBleGVjdXRlLlxuICAgKi9cbiAgc2NyaXB0VXJsPzogc3RyaW5nO1xuICAvKipcbiAgICogVmVyc2lvbiBvZiB0aGUgTWF0b21vIEpTIHNjcmlwdCB0byBkb3dubG9hZC5cbiAgICogKHRoZXJlIGlzIG5vIGVhc3kgd2F5IHRvIGtub3cgZm9yIHN1cmUgd2hpY2ggZmVhdHVyZXMgd2lsbCBiZSBzdXBwb3J0ZWQgaW4gdGhlIHNjcmlwdClcbiAgICovXG4gIHNjcmlwdFZlcnNpb246IG51bWJlcjtcbiAgLyoqXG4gICAqIEFycmF5IG9mIHRyYWNrZXJzLCBlYWNoIG9uZSBvZiB0aGVtIGJlaW5nIGRlc2NyaWJlZCBieSBpdHMgVVJMIGFuZCBzaXRlIGlkLlxuICAgKi9cbiAgdHJhY2tlcnM6IEFycmF5PHsgdHJhY2tlclVybDogc3RyaW5nOyBzaXRlSWQ6IG51bWJlciB9PjtcbiAgLyoqXG4gICAqIElmIHRydWUsIHVzZXIgY29uc2VudCB3aWxsIGJlIHJlcXVpcmVkLlxuICAgKi9cbiAgcmVxdWlyZUNvbnNlbnQ/OiBib29sZWFuO1xuICAvKipcbiAgICogSWYgdHJ1ZSwgdXNlciBjb25zZW50IHdpbGwgYmUgcmVxdWlyZWQgZm9yIGNvb2tpZXMgdG8gYmUgc3RvcmVkIGFuZCB1c2VkLlxuICAgKi9cbiAgcmVxdWlyZUNvb2tpZUNvbnNlbnQ/OiBib29sZWFuO1xuICAvKipcbiAgICogSWYgdHJ1ZSwgaW5pdGlhbCBwYWdlIHZpZXcgd2lsbCBub3QgYmUgdHJhY2tlZC5cbiAgICovXG4gIHNraXBUcmFja2luZ0luaXRpYWxQYWdlVmlldz86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBJZiB0cnVlLCBsaW5rIHdpbGwgYmUgYXV0b21hdGljYWxseSB0cmFja2VkIG9uIHRoZSBmaXJzdCBwYWdlIChpZiBlbmFibGVkKS5cbiAgICovXG4gIHRyYWNrTGlua3M/OiBib29sZWFuO1xuICAvKipcbiAgICogV2hlbiBsaW5rIHRyYWNraW5nIGhhcyBiZWVuIGVuYWJsZWQsIHRoaXMgc2V0cyB0aGUgdmFsdWUgdG8gdGhlIGNhbGwgdG8gYGVuYWJsZUxpbmtUcmFja2luZ2BcbiAgICovXG4gIHRyYWNrTGlua1ZhbHVlPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFBhcmFtZXRlcnMgcmVsYXRlZCB0byByb3V0ZSB0cmFja2luZy5cbiAgICovXG4gIHJvdXRlVHJhY2tpbmc/OiB7XG4gICAgLyoqXG4gICAgICogSWYgdHJ1ZSwgYXV0b21hdGljIHJvdXRlIHRyYWNraW5nIGlzIGVuYWJsZWQuXG4gICAgICovXG4gICAgZW5hYmxlOiBib29sZWFuO1xuICAgIC8qKlxuICAgICAqIExpc3Qgb2YgRE9NIGVsZW1lbnQgaWRzIGZvciB0cmFja2luZyBjb250ZW50IGltcHJlc3Npb25zLlxuICAgICAqL1xuICAgIGNvbnRlbnRJZHM/OiBBcnJheTxzdHJpbmc+O1xuICB9O1xufVxuXG4vKipcbiAqIE1hdG9tbyBtb2R1bGUgY29uZmlndXJhdGlvbiBpbnRlcmZhY2UuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTWF0b21vQ29uZmlndXJhdGlvbiBleHRlbmRzIFNhbml0aXplZE1hdG9tb0NvbmZpZ3VyYXRpb24ge1xuICAvKipcbiAgICogSWYgdHJ1ZSwgYXV0b21hdGljYWxseSB0cmFjayB0aGUgYXBwIGJlaW5nIHN0YXJ0ZWQuXG4gICAqIEBkZXByZWNhdGVkXG4gICAqL1xuICB0cmFja0FwcFN0YXJ0PzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNhbml0aXplQ29uZmlndXJhdGlvbihcbiAgY29uZmlndXJhdGlvbjogUGFydGlhbDxNYXRvbW9Db25maWd1cmF0aW9uPlxuKTogUGFydGlhbDxTYW5pdGl6ZWRNYXRvbW9Db25maWd1cmF0aW9uPiB7XG4gIGNvbnN0IHNhbml0aXplZENvbmZpZ3VyYXRpb246IFBhcnRpYWw8U2FuaXRpemVkTWF0b21vQ29uZmlndXJhdGlvbj4gPSB7XG4gICAgLi4uZGVmYXVsdENvbmZpZ3VyYXRpb24sXG4gICAgLi4uY29uZmlndXJhdGlvbixcbiAgfTtcblxuICBpZiAoY29uZmlndXJhdGlvbi50cmFja0FwcFN0YXJ0ICE9PSB1bmRlZmluZWQgJiYgY29uZmlndXJhdGlvbi50cmFja0FwcFN0YXJ0ICE9PSBudWxsKSB7XG4gICAgc2FuaXRpemVkQ29uZmlndXJhdGlvbi5za2lwVHJhY2tpbmdJbml0aWFsUGFnZVZpZXcgPSAhY29uZmlndXJhdGlvbi50cmFja0FwcFN0YXJ0O1xuICB9XG5cbiAgaWYgKGNvbmZpZ3VyYXRpb24ucm91dGVUcmFja2luZyAhPT0gdW5kZWZpbmVkICYmIGNvbmZpZ3VyYXRpb24ucm91dGVUcmFja2luZyAhPT0gbnVsbCkge1xuICAgIHNhbml0aXplZENvbmZpZ3VyYXRpb24ucm91dGVUcmFja2luZyA9IGNvbmZpZ3VyYXRpb24ucm91dGVUcmFja2luZztcbiAgfVxuXG4gIHJldHVybiBzYW5pdGl6ZWRDb25maWd1cmF0aW9uO1xufVxuXG4vKipcbiAqIEluamVjdGlvbiB0b2tlbiBmb3IgTWF0b21vIGNvbmZpZ3VyYXRpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBNQVRPTU9fQ09ORklHVVJBVElPTiA9IG5ldyBJbmplY3Rpb25Ub2tlbjxNYXRvbW9Db25maWd1cmF0aW9uPignTUFUT01PX0NPTkZJR1VSQVRJT04nKTtcblxuLyoqXG4gKiBEZWZhdWx0IGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBNYXRvbW8gbW9kdWxlLlxuICovXG5jb25zdCBkZWZhdWx0Q29uZmlndXJhdGlvbjogUGFydGlhbDxTYW5pdGl6ZWRNYXRvbW9Db25maWd1cmF0aW9uPiA9IHtcbiAgc2NyaXB0VmVyc2lvbjogNCxcbiAgdHJhY2tlcnM6IFtdLFxuICByZXF1aXJlQ29uc2VudDogZmFsc2UsXG4gIHJlcXVpcmVDb29raWVDb25zZW50OiBmYWxzZSxcbiAgc2tpcFRyYWNraW5nSW5pdGlhbFBhZ2VWaWV3OiBmYWxzZSxcbiAgdHJhY2tMaW5rczogdHJ1ZSxcbiAgdHJhY2tMaW5rVmFsdWU6IGZhbHNlLFxuICByb3V0ZVRyYWNraW5nOiB7XG4gICAgZW5hYmxlOiBmYWxzZSxcbiAgfSxcbn07XG4iXX0=